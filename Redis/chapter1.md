## 基础与应用篇

### 概述

### 基础数据结构

#### string(字符串)

redis的字符串是动态字符串，是可以修改的字符串，内部结构实现类似 **java**的 **ArrayList**，采用**预分配冗余空间**的方式减少内存的频繁分配。

当字符串小于 1Mb时，扩容是 **加倍现有的空间**，如果字符串超过 1Mb时，扩容时每次只会多扩 **1Mb**的空间，字符串最大长度为 **512Mb**。

#### list(列表)

redis的list相当于 **java**的 **LinkedList**，是链表而不是数组，意味着 list的 **插入和删除** 操作很快，时间复杂度是O(1)，但索引定位很慢，是O(n)，列表中每个元素都使用 **双向指针顺序**，串起来可以支持前后向遍历。

list在redis底层存储不是简单的链表，而是叫做 **快速链表（quicklist）** 的一个结构。在列表元素较少的情况下，会使用一块 **连续的内存存储**，这个结构叫做 **压缩链表（ziplist）**，是将所有的元素彼此紧挨着一起存储，分配的事一块连续的内存。当数据量比较多的时候才会改成 **quicklist**。

普通链表需要附加 **指针空间**，浪费空间还会加重内存的碎片化，所以redis将 **链表** 和     **ziplist**结合起来组成了 **quicklist**，就是将多个 **ziplist**使用双指针串起来使用，既满足了快速的插入删除性能，又不会出现太大的冗余空间。

#### hash(字典)

#### set(集合)

#### zset(有序集合)

### 分布式锁

### 延时队列

### 位图

### HyperLogLog

### 布隆过滤器

### 简单限流

### 漏斗限流

### GeoHash

### Scan

