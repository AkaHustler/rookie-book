## Zend虚拟机

### PHP代码的编译

php代码于c程序类似，只是php代码没有编译成机器码，而是解析成了若干条 **opcode数组**，每条 **opcode** 就是c里面普通的 **struct**，对应c程序的机器指令，执行过程就是引擎执行opcode。

所以php的解析过程就是 **将php代码转化为 opcode数组**，代码的所有信息都保存到opcode中，然后将opcode数组交给 **zend引擎** 执行，opcode就是内核具体执行的命令，比如 **赋值、加减操作、函数调用等**，每一条opcode都对应一个处理 **handle**，这些handle是提前定义好的c函数。

php代码解析为抽象语法书，然后从抽象语法树到opcodes，最终编译的结果就是**zend_op_array**。

### 函数实现

### Zend引擎执行流程

zend引擎主要包含两个核心部分：**编译、执行**。前面有zend的编译过程以及php用户函数的实现，接下来是zend引擎的 **执行过程**



### 面向对象实现

### 运行时缓存

### Opcache